@model LoteriasItix.Models.Aposta

@{
    ViewBag.Title = "Create";
    var data = DateTime.Now.ToString("dd/MM/yyyy HH:mm");
}
<div>
    <div style="float:left">
        <h2>Aposta</h2>
    </div>
    <div style="float:right; margin-top:20px">
        <div class="col-md-10">
            @Html.EditorFor(model => model.Data, new { htmlAttributes = new { @class = "form-control", @readonly = "readonly", @Value = data } })
            @Html.ValidationMessageFor(model => model.Data, "", new { @class = "text-danger" })
        </div>
    </div>
</div>


<div class="form-group" style="display:none">
    @Html.LabelFor(model => model.NumeroSorteio, htmlAttributes: new { @class = "control-label col-md-2" })
    <div class="col-md-10">
        @Html.EditorFor(model => model.NumeroSorteio, new { htmlAttributes = new { @class = "form-control", @Value = 99 } })
        @Html.ValidationMessageFor(model => model.NumeroSorteio, "", new { @class = "text-danger" })
    </div>
</div>

<script src="~/Scripts/jquery-1.10.2.js" type="text/javascript"></script>
<body background="~/Content/Images/Loteria.jpg" style="background-size:1400px 800px; background-repeat:no-repeat">

    @using (Html.BeginForm())
    {
        @Html.AntiForgeryToken()

        <div class="form-horizontal">

            <hr style="margin-top:8%" />
            @Html.ValidationSummary(true, "", new { @class = "text-danger" })
            <div id="teste1" class="form-group">
                <div class="col-sm-4 container" style="width:100%; text-align:center">
                    <div style="display:inline-block" class="editor-field">
                        <select class="form-control select text-box single-line" data-val="true" id="Numeros_N1" name="Numeros.N1" type="number" value="">
                            <option selected class="opt" id="1">1</option>
                            <option class="opt" id="2">2</option>
                            <option class="opt" id="3">3</option>
                            <option class="opt" id="4">4</option>
                            <option class="opt" id="5">5</option>
                            <option class="opt" id="6">6</option>
                            <option class="opt" id="7">7</option>
                            <option class="opt" id="8">8</option>
                            <option class="opt" id="9">9</option>
                            <option class="opt" id="10">10</option>
                            <option class="opt" id="11">11</option>
                            <option class="opt" id="12">12</option>
                            <option class="opt" id="13">13</option>
                            <option class="opt" id="14">14</option>
                            <option class="opt" id="15">15</option>
                            <option class="opt" id="16">16</option>
                            <option class="opt" id="17">17</option>
                            <option class="opt" id="18">18</option>
                            <option class="opt" id="19">19</option>
                            <option class="opt" id="20">20</option>
                            <option class="opt" id="21">21</option>
                            <option class="opt" id="22">22</option>
                            <option class="opt" id="23">23</option>
                            <option class="opt" id="24">24</option>
                            <option class="opt" id="25">25</option>
                            <option class="opt" id="26">26</option>
                            <option class="opt" id="27">27</option>
                            <option class="opt" id="28">28</option>
                            <option class="opt" id="29">29</option>
                            <option class="opt" id="30">30</option>
                            <option class="opt" id="31">31</option>
                            <option class="opt" id="32">32</option>
                            <option class="opt" id="33">33</option>
                            <option class="opt" id="34">34</option>
                            <option class="opt" id="35">35</option>
                            <option class="opt" id="36">36</option>
                            <option class="opt" id="37">37</option>
                            <option class="opt" id="38">38</option>
                            <option class="opt" id="39">39</option>
                            <option class="opt" id="40">40</option>
                            <option class="opt" id="41">41</option>
                            <option class="opt" id="42">42</option>
                            <option class="opt" id="43">43</option>
                            <option class="opt" id="44">44</option>
                            <option class="opt" id="45">45</option>
                            <option class="opt" id="46">46</option>
                            <option class="opt" id="47">47</option>
                            <option class="opt" id="48">48</option>
                            <option class="opt" id="49">49</option>
                            <option class="opt" id="50">50</option>
                            <option class="opt" id="51">51</option>
                            <option class="opt" id="52">52</option>
                            <option class="opt" id="53">53</option>
                            <option class="opt" id="54">54</option>
                            <option class="opt" id="55">55</option>
                            <option class="opt" id="56">56</option>
                            <option class="opt" id="57">57</option>
                            <option class="opt" id="58">58</option>
                            <option class="opt" id="59">59</option>
                            <option class="opt" id="60">60</option>
                        </select> <span class="field-validation-valid" data-valmsg-for="Numeros.N1" data-valmsg-replace="true"></span>
                    </div>
                    <div style="display:inline-block; margin-left:10%" class="editor-field">
                        <select class="form-control select text-box single-line" data-val="true" id="Numeros_N2" name="Numeros.N2" type="number" value="">
                            <option class="opt" id="1">1</option>
                            <option selected class="opt" id="2">2</option>
                            <option class="opt" id="3">3</option>
                            <option class="opt" id="4">4</option>
                            <option class="opt" id="5">5</option>
                            <option class="opt" id="6">6</option>
                            <option class="opt" id="7">7</option>
                            <option class="opt" id="8">8</option>
                            <option class="opt" id="9">9</option>
                            <option class="opt" id="10">10</option>
                            <option class="opt" id="11">11</option>
                            <option class="opt" id="12">12</option>
                            <option class="opt" id="13">13</option>
                            <option class="opt" id="14">14</option>
                            <option class="opt" id="15">15</option>
                            <option class="opt" id="16">16</option>
                            <option class="opt" id="17">17</option>
                            <option class="opt" id="18">18</option>
                            <option class="opt" id="19">19</option>
                            <option class="opt" id="20">20</option>
                            <option class="opt" id="21">21</option>
                            <option class="opt" id="22">22</option>
                            <option class="opt" id="23">23</option>
                            <option class="opt" id="24">24</option>
                            <option class="opt" id="25">25</option>
                            <option class="opt" id="26">26</option>
                            <option class="opt" id="27">27</option>
                            <option class="opt" id="28">28</option>
                            <option class="opt" id="29">29</option>
                            <option class="opt" id="30">30</option>
                            <option class="opt" id="31">31</option>
                            <option class="opt" id="32">32</option>
                            <option class="opt" id="33">33</option>
                            <option class="opt" id="34">34</option>
                            <option class="opt" id="35">35</option>
                            <option class="opt" id="36">36</option>
                            <option class="opt" id="37">37</option>
                            <option class="opt" id="38">38</option>
                            <option class="opt" id="39">39</option>
                            <option class="opt" id="40">40</option>
                            <option class="opt" id="41">41</option>
                            <option class="opt" id="42">42</option>
                            <option class="opt" id="43">43</option>
                            <option class="opt" id="44">44</option>
                            <option class="opt" id="45">45</option>
                            <option class="opt" id="46">46</option>
                            <option class="opt" id="47">47</option>
                            <option class="opt" id="48">48</option>
                            <option class="opt" id="49">49</option>
                            <option class="opt" id="50">50</option>
                            <option class="opt" id="51">51</option>
                            <option class="opt" id="52">52</option>
                            <option class="opt" id="53">53</option>
                            <option class="opt" id="54">54</option>
                            <option class="opt" id="55">55</option>
                            <option class="opt" id="56">56</option>
                            <option class="opt" id="57">57</option>
                            <option class="opt" id="58">58</option>
                            <option class="opt" id="59">59</option>
                            <option class="opt" id="60">60</option>
                        </select> <span class="field-validation-valid" data-valmsg-for="Numeros.N2" data-valmsg-replace="true"></span>
                    </div>
                    <div style="display:inline-block; margin-left:10%" class="editor-field">
                        <select class="form-control select text-box single-line" data-val="true" id="Numeros_N3" name="Numeros.N3" type="number" value="">
                            <option class="opt" id="1">1</option>
                            <option class="opt" id="2">2</option>
                            <option selected class="opt" id="3">3</option>
                            <option class="opt" id="4">4</option>
                            <option class="opt" id="5">5</option>
                            <option class="opt" id="6">6</option>
                            <option class="opt" id="7">7</option>
                            <option class="opt" id="8">8</option>
                            <option class="opt" id="9">9</option>
                            <option class="opt" id="10">10</option>
                            <option class="opt" id="11">11</option>
                            <option class="opt" id="12">12</option>
                            <option class="opt" id="13">13</option>
                            <option class="opt" id="14">14</option>
                            <option class="opt" id="15">15</option>
                            <option class="opt" id="16">16</option>
                            <option class="opt" id="17">17</option>
                            <option class="opt" id="18">18</option>
                            <option class="opt" id="19">19</option>
                            <option class="opt" id="20">20</option>
                            <option class="opt" id="21">21</option>
                            <option class="opt" id="22">22</option>
                            <option class="opt" id="23">23</option>
                            <option class="opt" id="24">24</option>
                            <option class="opt" id="25">25</option>
                            <option class="opt" id="26">26</option>
                            <option class="opt" id="27">27</option>
                            <option class="opt" id="28">28</option>
                            <option class="opt" id="29">29</option>
                            <option class="opt" id="30">30</option>
                            <option class="opt" id="31">31</option>
                            <option class="opt" id="32">32</option>
                            <option class="opt" id="33">33</option>
                            <option class="opt" id="34">34</option>
                            <option class="opt" id="35">35</option>
                            <option class="opt" id="36">36</option>
                            <option class="opt" id="37">37</option>
                            <option class="opt" id="38">38</option>
                            <option class="opt" id="39">39</option>
                            <option class="opt" id="40">40</option>
                            <option class="opt" id="41">41</option>
                            <option class="opt" id="42">42</option>
                            <option class="opt" id="43">43</option>
                            <option class="opt" id="44">44</option>
                            <option class="opt" id="45">45</option>
                            <option class="opt" id="46">46</option>
                            <option class="opt" id="47">47</option>
                            <option class="opt" id="48">48</option>
                            <option class="opt" id="49">49</option>
                            <option class="opt" id="50">50</option>
                            <option class="opt" id="51">51</option>
                            <option class="opt" id="52">52</option>
                            <option class="opt" id="53">53</option>
                            <option class="opt" id="54">54</option>
                            <option class="opt" id="55">55</option>
                            <option class="opt" id="56">56</option>
                            <option class="opt" id="57">57</option>
                            <option class="opt" id="58">58</option>
                            <option class="opt" id="59">59</option>
                            <option class="opt" id="60">60</option>
                        </select> <span class="field-validation-valid" data-valmsg-for="Numeros.N3" data-valmsg-replace="true"></span>
                    </div>
                    <div style="display:inline-block; margin-left:10%" class="editor-field">
                        <select class="form-control select text-box single-line" data-val="true" id="Numeros_N4" name="Numeros.N4" type="number" value="">
                            <option class="opt" id="1">1</option>
                            <option class="opt" id="2">2</option>
                            <option class="opt" id="3">3</option>
                            <option selected class="opt" id="4">4</option>
                            <option class="opt" id="5">5</option>
                            <option class="opt" id="6">6</option>
                            <option class="opt" id="7">7</option>
                            <option class="opt" id="8">8</option>
                            <option class="opt" id="9">9</option>
                            <option class="opt" id="10">10</option>
                            <option class="opt" id="11">11</option>
                            <option class="opt" id="12">12</option>
                            <option class="opt" id="13">13</option>
                            <option class="opt" id="14">14</option>
                            <option class="opt" id="15">15</option>
                            <option class="opt" id="16">16</option>
                            <option class="opt" id="17">17</option>
                            <option class="opt" id="18">18</option>
                            <option class="opt" id="19">19</option>
                            <option class="opt" id="20">20</option>
                            <option class="opt" id="21">21</option>
                            <option class="opt" id="22">22</option>
                            <option class="opt" id="23">23</option>
                            <option class="opt" id="24">24</option>
                            <option class="opt" id="25">25</option>
                            <option class="opt" id="26">26</option>
                            <option class="opt" id="27">27</option>
                            <option class="opt" id="28">28</option>
                            <option class="opt" id="29">29</option>
                            <option class="opt" id="30">30</option>
                            <option class="opt" id="31">31</option>
                            <option class="opt" id="32">32</option>
                            <option class="opt" id="33">33</option>
                            <option class="opt" id="34">34</option>
                            <option class="opt" id="35">35</option>
                            <option class="opt" id="36">36</option>
                            <option class="opt" id="37">37</option>
                            <option class="opt" id="38">38</option>
                            <option class="opt" id="39">39</option>
                            <option class="opt" id="40">40</option>
                            <option class="opt" id="41">41</option>
                            <option class="opt" id="42">42</option>
                            <option class="opt" id="43">43</option>
                            <option class="opt" id="44">44</option>
                            <option class="opt" id="45">45</option>
                            <option class="opt" id="46">46</option>
                            <option class="opt" id="47">47</option>
                            <option class="opt" id="48">48</option>
                            <option class="opt" id="49">49</option>
                            <option class="opt" id="50">50</option>
                            <option class="opt" id="51">51</option>
                            <option class="opt" id="52">52</option>
                            <option class="opt" id="53">53</option>
                            <option class="opt" id="54">54</option>
                            <option class="opt" id="55">55</option>
                            <option class="opt" id="56">56</option>
                            <option class="opt" id="57">57</option>
                            <option class="opt" id="58">58</option>
                            <option class="opt" id="59">59</option>
                            <option class="opt" id="60">60</option>
                        </select> <span class="field-validation-valid" data-valmsg-for="Numeros.N4" data-valmsg-replace="true"></span>
                    </div>
                    <div style="display:inline-block; margin-left:10%" class="editor-field">
                        <select class="form-control select text-box single-line" data-val="true" id="Numeros_N5" name="Numeros.N5" type="number" value="">
                            <option class="opt" id="1">1</option>
                            <option class="opt" id="2">2</option>
                            <option class="opt" id="3">3</option>
                            <option class="opt" id="4">4</option>
                            <option selected class="opt" id="5">5</option>
                            <option class="opt" id="6">6</option>
                            <option class="opt" id="7">7</option>
                            <option class="opt" id="8">8</option>
                            <option class="opt" id="9">9</option>
                            <option class="opt" id="10">10</option>
                            <option class="opt" id="11">11</option>
                            <option class="opt" id="12">12</option>
                            <option class="opt" id="13">13</option>
                            <option class="opt" id="14">14</option>
                            <option class="opt" id="15">15</option>
                            <option class="opt" id="16">16</option>
                            <option class="opt" id="17">17</option>
                            <option class="opt" id="18">18</option>
                            <option class="opt" id="19">19</option>
                            <option class="opt" id="20">20</option>
                            <option class="opt" id="21">21</option>
                            <option class="opt" id="22">22</option>
                            <option class="opt" id="23">23</option>
                            <option class="opt" id="24">24</option>
                            <option class="opt" id="25">25</option>
                            <option class="opt" id="26">26</option>
                            <option class="opt" id="27">27</option>
                            <option class="opt" id="28">28</option>
                            <option class="opt" id="29">29</option>
                            <option class="opt" id="30">30</option>
                            <option class="opt" id="31">31</option>
                            <option class="opt" id="32">32</option>
                            <option class="opt" id="33">33</option>
                            <option class="opt" id="34">34</option>
                            <option class="opt" id="35">35</option>
                            <option class="opt" id="36">36</option>
                            <option class="opt" id="37">37</option>
                            <option class="opt" id="38">38</option>
                            <option class="opt" id="39">39</option>
                            <option class="opt" id="40">40</option>
                            <option class="opt" id="41">41</option>
                            <option class="opt" id="42">42</option>
                            <option class="opt" id="43">43</option>
                            <option class="opt" id="44">44</option>
                            <option class="opt" id="45">45</option>
                            <option class="opt" id="46">46</option>
                            <option class="opt" id="47">47</option>
                            <option class="opt" id="48">48</option>
                            <option class="opt" id="49">49</option>
                            <option class="opt" id="50">50</option>
                            <option class="opt" id="51">51</option>
                            <option class="opt" id="52">52</option>
                            <option class="opt" id="53">53</option>
                            <option class="opt" id="54">54</option>
                            <option class="opt" id="55">55</option>
                            <option class="opt" id="56">56</option>
                            <option class="opt" id="57">57</option>
                            <option class="opt" id="58">58</option>
                            <option class="opt" id="59">59</option>
                            <option class="opt" id="60">60</option>
                        </select> <span class="field-validation-valid" data-valmsg-for="Numeros.N5" data-valmsg-replace="true"></span>
                    </div>
                    <div style="display:inline-block; margin-left:10%" class="editor-field">
                        <select class="form-control select text-box single-line" data-val="true" id="Numeros_N6" name="Numeros.N6" type="number" value="">
                            <option class="opt" id="1">1</option>
                            <option class="opt" id="2">2</option>
                            <option class="opt" id="3">3</option>
                            <option class="opt" id="4">4</option>
                            <option class="opt" id="5">5</option>
                            <option selected class="opt" id="6">6</option>
                            <option class="opt" id="7">7</option>
                            <option class="opt" id="8">8</option>
                            <option class="opt" id="9">9</option>
                            <option class="opt" id="10">10</option>
                            <option class="opt" id="11">11</option>
                            <option class="opt" id="12">12</option>
                            <option class="opt" id="13">13</option>
                            <option class="opt" id="14">14</option>
                            <option class="opt" id="15">15</option>
                            <option class="opt" id="16">16</option>
                            <option class="opt" id="17">17</option>
                            <option class="opt" id="18">18</option>
                            <option class="opt" id="19">19</option>
                            <option class="opt" id="20">20</option>
                            <option class="opt" id="21">21</option>
                            <option class="opt" id="22">22</option>
                            <option class="opt" id="23">23</option>
                            <option class="opt" id="24">24</option>
                            <option class="opt" id="25">25</option>
                            <option class="opt" id="26">26</option>
                            <option class="opt" id="27">27</option>
                            <option class="opt" id="28">28</option>
                            <option class="opt" id="29">29</option>
                            <option class="opt" id="30">30</option>
                            <option class="opt" id="31">31</option>
                            <option class="opt" id="32">32</option>
                            <option class="opt" id="33">33</option>
                            <option class="opt" id="34">34</option>
                            <option class="opt" id="35">35</option>
                            <option class="opt" id="36">36</option>
                            <option class="opt" id="37">37</option>
                            <option class="opt" id="38">38</option>
                            <option class="opt" id="39">39</option>
                            <option class="opt" id="40">40</option>
                            <option class="opt" id="41">41</option>
                            <option class="opt" id="42">42</option>
                            <option class="opt" id="43">43</option>
                            <option class="opt" id="44">44</option>
                            <option class="opt" id="45">45</option>
                            <option class="opt" id="46">46</option>
                            <option class="opt" id="47">47</option>
                            <option class="opt" id="48">48</option>
                            <option class="opt" id="49">49</option>
                            <option class="opt" id="50">50</option>
                            <option class="opt" id="51">51</option>
                            <option class="opt" id="52">52</option>
                            <option class="opt" id="53">53</option>
                            <option class="opt" id="54">54</option>
                            <option class="opt" id="55">55</option>
                            <option class="opt" id="56">56</option>
                            <option class="opt" id="57">57</option>
                            <option class="opt" id="58">58</option>
                            <option class="opt" id="59">59</option>
                            <option class="opt" id="60">60</option>
                        </select> <span class="field-validation-valid" data-valmsg-for="Numeros.N6" data-valmsg-replace="true"></span>
                    </div>
                    <span class="field-validation-valid text-danger" data-valmsg-for="Numeros" data-valmsg-replace="true"></span>
                </div>
            </div>

            <div style="width:100%; margin-top:7%;">
                <input id="sortear" value="Gerar Jogo Aleatório" class="btn btn-default" style="float:left" />
                <a class="btn btn-default" href="/Apostas" style="margin-left:30%">Voltar</a>
                <input type="submit" value="Salvar Aposta" class="btn btn-default" style="float:right" />
            </div>
        </div>
    }


</body>

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}

<script type="text/javascript">
    $(document).ready(function () {

        function shuffle(array) {
            var currentIndex = array.length, temporaryValue, randomIndex;
            while (0 !== currentIndex) {
                randomIndex = Math.floor(Math.random() * currentIndex);
                currentIndex -= 1;
                temporaryValue = array[currentIndex];
                array[currentIndex] = array[randomIndex];
                array[randomIndex] = temporaryValue;
            }

            return array;
        }

        function sortNumber(a, b) {
            return a - b;
        }


        $(".select")
            .change(function () {
                var valor = $(this).val()
                var esteid = $(this).attr('id')
                valor = parseInt(valor)
                $(".select").each(function () {
                    var valores = $(this).val()
                    var id = $(this).attr('id')
                    var drop = $(this)
                    valores = parseInt(valores)
                    if (esteid != id) {
                        if (valores == valor) {

                            if (valores == 60) {
                                valores = 59
                            }
                            else { valores = (valores + 1); }
                            valores = valores.toString()
                            drop.val(valores)
                        }
                    }
                });

                $(".select").each(function () {
                    var val = $(this).val()
                    var valid = $(this).attr('id')
                    var drop = $(this)
                    val = parseInt(val)
                    $(".select").each(function () {
                        var valores = $(this).val()
                        var id = $(this).attr('id')
                        var drop = $(this)
                        valores = parseInt(valores)
                        if (valid != id) {
                            if (valores == val) {

                                if (valores == 60) {
                                    valores = 59
                                }
                                else { valores = (valores + 1); }
                                valores = valores.toString()
                                drop.val(valores)
                            }
                        }
                    });
                });

                $(".select").each(function () {
                    var n1 = parseInt($("#Numeros_N1").val())
                    var n2 = parseInt($("#Numeros_N2").val())
                    var n3 = parseInt($("#Numeros_N3").val())
                    var n4 = parseInt($("#Numeros_N4").val())
                    var n5 = parseInt($("#Numeros_N5").val())
                    var n6 = parseInt($("#Numeros_N6").val())

                    $(".select").children('option').each(function () {
                        $(this).show()
                        var opt = $(this)
                        var number = $(this).val()
                        number = parseInt(number)
                        if (number == n1 || number == n2 || number == n3 || number == n4 || number == n5 || number == n6) {
                            opt.hide();
                        }
                    });

                    var vetor = [n1, n2, n3, n4, n5, n6]
                    vetor = vetor.sort(sortNumber);
                    n1 = vetor[0].toString();

                    n2 = vetor[1].toString();

                    n3 = vetor[2].toString();

                    n4 = vetor[3].toString();

                    n5 = vetor[4].toString();

                    n6 = vetor[5].toString();
                    $("#Numeros_N1").val(n1);
                    $("#Numeros_N2").val(n2);
                    $("#Numeros_N3").val(n3);
                    $("#Numeros_N4").val(n4);
                    $("#Numeros_N5").val(n5);
                    $("#Numeros_N6").val(n6);


                });



            });

        $("#sortear")
            .click(function () {
                var numbers = ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20",
                    "21", "21", "23", "24", "25", "26", "27", "28", "29", "30", "31", "32", "33", "34", "35", "36", "37", "38", "39", "40", "41",
                    "42", "43", "44", "45", "46", "47", "48", "49", "50", "51", "52", "53", "54", "55", "56", "57", "58", "59", "60"]

                var aux = shuffle(numbers);
                var n1 = parseInt(aux[1]);

                var n2 = parseInt(aux[2]);

                var n3 = parseInt(aux[3]);

                var n4 = parseInt(aux[4]);

                var n5 = parseInt(aux[5]);

                var n6 = parseInt(aux[6]);

                $(".select").children('option').each(function () {
                    $(this).show()
                    var opt = $(this)
                    var number = $(this).val()
                    number = parseInt(number)
                    if (number == n1 || number == n2 || number == n3 || number == n4 || number == n5 || number == n6) {
                        opt.hide();
                    }
                });

                aux = [n1, n2, n3, n4, n5, n6];
                aux = aux.sort(sortNumber);
                n1 = aux[0].toString();

                n2 = aux[1].toString();

                n3 = aux[2].toString();

                n4 = aux[3].toString();

                n5 = aux[4].toString();

                n6 = aux[5].toString();

                $("#Numeros_N1").val(n1);
                $("#Numeros_N2").val(n2);
                $("#Numeros_N3").val(n3);
                $("#Numeros_N4").val(n4);
                $("#Numeros_N5").val(n5);
                $("#Numeros_N6").val(n6);


            });





    });
</script>